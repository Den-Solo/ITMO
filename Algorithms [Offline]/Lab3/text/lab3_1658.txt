Есть ограничение максимального количества цифр в чиле = 100. Отсюда получаем, что
макс. сумма = 9 * 100 =900;
макс. сумма квадратов = 9 * 9 * 100 = 8100;

Можно предпросчитать кол-во цифр при каждой паре сумм.
Массив a[901][8101].
Изначально заполним -1. Далее, есди значение рано 101, то такой пары не существует.
Проходимся по всем возможным парам (два вложенных цикла) и внутри по всем цифрам от 1 до 9. (ноль не включен, так как на нужно минимальное число, а он не влияет на суммы)

a[s][s_sq] = min(a[s][s_sq], a[s - i][s_sq - i * i] по всем i от 1 до 9.

Затем отвечаем на запросы. Если в таблице 101 - нет решения, иначе печатаем ответ:
вновь проходимся по цифрам от 1 до 9
и, если в паре после вычитания данного i и i^2 кол-во цифр умньшилось ровно на 1, то значит это верная цифра, выводим ее, и переходим к  a[s - i][s_sq - i * i]. Повторяем.