Для каждого ряда используем дерево фенвика. При каждом новом числе в ряду вычисляем для него сумму людей с большими числами (меньше рост) и добаляем к сумме прыжков этого ряда, затем добавляем новое число и так до конца ряда.
К конце ряда проверяем, больше ли это число, чем среди предыдущих рядов. Если больше, то обновляем максимум и номер ряда.