Так как требуется вывести любую непустую самую часто встречающуюся подстроку,то почему бы не вывести подстроку из одного символа, просто подсчитав его количество.